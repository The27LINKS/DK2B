# DK2B Intelligence Engine

![Version](https://img.shields.io/badge/version-1.0-blue)
![Python](https://img.shields.io/badge/python-3.9%2B-green)
![FastAPI](https://img.shields.io/badge/framework-FastAPI-009688)

[cite_start]DK2B is an **AI-powered Business Requirements Document (BRD) analysis engine**[cite: 4, 6]. [cite_start]It automates the process of requirement extraction, conflict detection, and visualization from unstructured data sources like text, PDFs, or CSV files[cite: 7].

---

## üöÄ Executive Summary
[cite_start]DK2B leverages Google's Gemini models via **LangChain** and **LangGraph** to orchestrate complex analysis workflows[cite: 8]. [cite_start]The system is designed for high reliability with built-in API key rotation and provides a responsive user experience through real-time NDJSON streaming to a single-page frontend[cite: 8, 17, 18].

## üèó System Architecture

[cite_start]The platform is divided into four core modules[cite: 10]:

### 1. Backend Orchestration (`backend/main.py`)
[cite_start]The primary FastAPI application handles data processing and LLM orchestration[cite: 11, 12].
* [cite_start]**File Parsing:** Uses `pypdf.PdfReader` for extraction[cite: 14].
* [cite_start]**Text Chunking:** Large files are split using `chunk_text(text, chunk_size=25000)` to prevent token limit issues[cite: 15].
* [cite_start]**Key Rotation:** Automatically cycles through `GEMINI_API_KEYS` if a `429 Resource Exhausted` error occurs[cite: 17].
* [cite_start]**Streaming:** Sends real-time progress events (NDJSON) to the client[cite: 18].

### 2. LangGraph Agent Pipeline (`agent/`)
[cite_start]An alternative node-based workflow for sophisticated auditing[cite: 20, 23].
* [cite_start]**`extract_requirements`**: Pulls a structured `RequirementList` from the LLM[cite: 27].
* **`validate_requirements`**: Audits data to detect internal logic conflicts[cite: 27].
* **`format_final_brd`**: Assembles requirements and conflicts into a Markdown report[cite: 28].

### 3. Data Ingestion (`data_pipeline/`)
* [cite_start]**Email Parser:** Contains `get_clean_body()` to strip header metadata (e.g., "Original Message") from raw text files to ensure LLM focus[cite: 30, 31].

### 4. Frontend Client (`Engine/`)
[cite_start]A static Single-Page Application (SPA)[cite: 32, 33].
* **Interface:** Supports text input, file uploads, and drag-and-drop zones[cite: 34].
* [cite_start]**Rendering:** Dynamically updates progress bars and renders **Mermaid.js** diagrams generated by the AI[cite: 38, 41, 42].

---

## üõ† Setup & Execution

### 1. Local Environment
Initialize your Python virtual environment and install dependencies:
```bash
python -m venv venv
# Windows
venv\Scripts\Activate.ps1 
# Install Requirements
pip install -r requirements.txt
